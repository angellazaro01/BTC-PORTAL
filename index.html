<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>BTC News Portal - Ángel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #020617;
      color: #e5e7eb;
    }
    header {
      padding: 16px 24px;
      background: #0f172a;
      border-bottom: 1px solid #1e293b;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .logo {
      font-weight: 700;
      font-size: 1.1rem;
    }
    .logo span {
      color: #22c55e;
    }
    .time {
      font-size: 0.9rem;
      color: #9ca3af;
    }
    main {
      max-width: 960px;
      margin: 0 auto;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .card {
      background: #020617;
      border-radius: 14px;
      border: 1px solid #1f2937;
      padding: 16px 18px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.6);
    }
    .card h2 {
      margin: 0 0 8px 0;
      font-size: 1rem;
      font-weight: 600;
      color: #e5e7eb;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .badge-green {
      background: rgba(34, 197, 94, 0.12);
      color: #22c55e;
      border: 1px solid rgba(34, 197, 94, 0.4);
    }
    .badge-yellow {
      background: rgba(250, 204, 21, 0.12);
      color: #facc15;
      border: 1px solid rgba(250, 204, 21, 0.4);
    }
    .badge-red {
      background: rgba(248, 113, 113, 0.12);
      color: #f87171;
      border: 1px solid rgba(248, 113, 113, 0.4);
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
      font-size: 0.9rem;
    }
    .metric-label {
      color: #9ca3af;
      font-size: 0.8rem;
    }
    .metric-value {
      font-weight: 600;
      margin-top: 2px;
    }
    .news-item {
      margin-bottom: 10px;
    }
    .news-title {
      font-weight: 600;
      margin-bottom: 2px;
    }
    .news-body {
      font-size: 0.9rem;
      color: #d1d5db;
    }
    .section-title {
      margin-bottom: 6px;
      font-size: 0.95rem;
      font-weight: 600;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }
    .footer-note {
      font-size: 0.75rem;
      color: #6b7280;
      text-align: center;
      margin: 12px 0 20px;
    }
  </style>
</head>
<body>
<header>
  <div class="logo">BTC <span>News</span> Portal</div>
  <div class="time" id="report-time">Actualizado: --:--</div>
</header>

<main>
  <section class="card">
    <h2>Resumen del mercado</h2>
    <div class="grid">
      <div>
        <div class="metric-label">Precio BTC</div>
        <div class="metric-value" id="price-btc">US$ --</div>
      </div>
      <div>
        <div class="metric-label">Sesgo actual</div>
        <div class="metric-value" id="bias">—</div>
      </div>
      <div>
        <div class="metric-label">Dominante</div>
        <div class="metric-value" id="driver">—</div>
      </div>
      <div>
        <div class="metric-label">Riesgo</div>
        <div class="metric-value" id="risk">—</div>
      </div>
    </div>
  </section>

  <section class="card">
    <div class="section-title">Métricas del mercado</div>
    <div class="grid">
      <div><div class="metric-label">Open Interest Futuros</div><div class="metric-value" id="oi-futures">—</div></div>
      <div><div class="metric-label">Volumen 24h Futuros</div><div class="metric-value" id="vol-futures">—</div></div>
      <div><div class="metric-label">Liquidaciones 24h</div><div class="metric-value" id="liquidations">—</div></div>
      <div><div class="metric-label">Long/Short taker</div><div class="metric-value" id="ls-ratio">—</div></div>
      <div><div class="metric-label">Funding Rate</div><div class="metric-value" id="funding">—</div></div>
      <div><div class="metric-label">BTC en Exchanges</div><div class="metric-value" id="exch-balance">—</div></div>
      <div><div class="metric-label">Flujos ETFs BTC</div><div class="metric-value" id="etf-flows">—</div></div>
    </div>
  </section>

  <section class="card">
    <div class="section-title">Noticias & Eventos</div>
    <div id="news-container"></div>
  </section>

  <section class="card">
    <div class="section-title">Conclusión para el trader</div>
    <div id="conclusion">Actualizá la conclusión aquí.</div>
  </section>

  <div class="footer-note">Portal manual: actualiza los datos en este mismo archivo.</div>
</main>

<script>
  const report = {
    time: "—",
    price: "—",
    bias: "—",
    driver: "—",
    risk: "—",
    metrics: {
      oiFutures: "—",
      volFutures: "—",
      liquidations: "—",
      lsRatio: "—",
      funding: "—",
      exchBalance: "—",
      etfFlows: "—"
    },
    news: [],
    conclusion: "—"
  };

  function badgeClass(color) {
    if (color === "green") return "badge badge-green";
    if (color === "yellow") return "badge badge-yellow";
    return "badge badge-red";
  }

  function renderReport(r) {
    document.getElementById("report-time").textContent = "Actualizado: " + r.time;
    document.getElementById("price-btc").textContent = r.price;
    document.getElementById("bias").textContent = r.bias;
    document.getElementById("driver").textContent = r.driver;
    document.getElementById("risk").textContent = r.risk;

    document.getElementById("oi-futures").textContent = r.metrics.oiFutures;
    document.getElementById("vol-futures").textContent = r.metrics.volFutures;
    document.getElementById("liquidations").textContent = r.metrics.liquidations;
    document.getElementById("ls-ratio").textContent = r.metrics.lsRatio;
    document.getElementById("funding").textContent = r.metrics.funding;
    document.getElementById("exch-balance").textContent = r.metrics.exchBalance;
    document.getElementById("etf-flows").textContent = r.metrics.etfFlows;

    const newsContainer = document.getElementById("news-container");
    newsContainer.innerHTML = "";
    r.news.forEach(item => {
      const wrap = document.createElement("div");
      wrap.className = "news-item";
      const badge = document.createElement("span");
      badge.className = badgeClass(item.color);
      badge.textContent = `Importante (${item.importance || "?"})`;
      const title = document.createElement("div");
      title.className = "news-title";
      title.textContent = item.title;
      const body = document.createElement("div");
      body.className = "news-body";
      body.textContent = item.body;
      wrap.appendChild(badge);
      wrap.appendChild(title);
      wrap.appendChild(body);
      newsContainer.appendChild(wrap);
    });

    document.getElementById("conclusion").textContent = r.conclusion;
  }

  renderReport(report);
</script>
</body>
</html>
